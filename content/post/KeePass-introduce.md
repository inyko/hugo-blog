---
title: 密码那点事——密码管理的可靠方案
date: 2015-01-25T21:31:08+08:00
tags:
  - Keepass
  - 密码管理
imageurl: "https://41.media.tumblr.com/c52fec0a8ad4c1ddb6d93870290619d7/tumblr_nmcb5higeE1tqgztwo3_1280.jpg"
---
说起来前一阵又爆出[机锋论坛密码被泄露](https://www.vulbox.com/bugs/vulbox-2015-01928)这样的新闻。对天朝这种三天两头就有个网站爆出泄露数据的，表示已经见怪不怪了，你们爱怎么爆怎么爆，咱自有办法对付。

相信还有不少人在不同网站的密码都用的同一个吧。。。。这样的密码管理方式非常不安全，即使是一个固定码加一些有规律的变化，依旧不安全，因为只要有一个网站泄露了你密码，你的密码最关键的部分就经泄露了。。。只要不断尝试，想破解你其他帐号的密码也只是个时间问题，成本也很低。

- - -

#### 使用密码库

于是为了解决这个问题五花八门的密码管理工具就涌现出来了。最为常见的也就以浏览器为中心的 [LastPass](https://lastpass.com/) 、在水果用户口碑很好的 [1Password](https://agilebits.com/onepassword) 以及完全开源免费 [KeePass](http://keepass.info) 。

这一类密码管理工具的特点是可以自动为用户生成随机密码，保证每一个网站的密码都是独立的，用户只要牢牢记住密码库的主密码就行了。这样即使某个网站被发现漏洞泄露了密码也不会影响用户其他的密码，只要给那个出问题的网站换一个随机密码就解决问题了。

w酱最早使用的是 LastPass 。 LastPass 家的用户体验其实还是很不错的，一键自动填写密码的功能也是非常好用，而且跨浏览器也相当于支持了多平台。但是 LastPass 的问题用久了就体现出来了。

首先是密码的存放问题， LastPass 的数据库存放在他们自家公司的云端。虽然号称用了 AES-256 的加密，但对用户来说始终是不透明的，再加上树大招风， 存了这么多密码的 LastPass 绝对是黑客眼中的肥肉，虽然还未爆出什么很大的问题但还是有风险。

二来是移动端的跨平台， LastPass 的移动端是需要付费的，虽然之前有过限免一年的优惠 ~~当时我也去领了，试用了下结果不知为何把手机的默认程序管理系统给玩坏了~~ ，不过终究只有一年。

1Password 咱就没试过了，反正也是土豪用的东西，也不支持 Linux 平台，咱就近而远之了。

<!--more-->
- - -

#### 替换方案——[KeePass](http://keepass.info)

意识到 LastPass 的问题后就尝试使用了 KeePass ，也就是我们这篇博文的主角。KeePass 是在 GPLv2 下发行的，主程序完全免费，先赞一个。
而 KeePass 与 LastPass、1Passowrd 最大的区别在于密码库是存在本地的，而同步的功能需要借助第三方，这个咱之后会另起一文继续讨论。

###### 安全问题

有关密码的安全问题，首先密码库存在于本地，而且对用户来说是一个可见透明的文件，而不是一个云，比较有安心感。密码的加密默认使用了 AES-256 ，此外借助插件可以用上其他的加密方式，比如双鱼加密。KeePass [丰富的插件库](http://keepass.info/plugins.html)也是我看中这个软件的原因之一，KeePass 的插件机制大大提升了灵活性和可扩展性。相比之下的前两者可没这么厉害。

除此之外，KeePass 还支持使用一个 KeyFile 作为辅助密钥，这个 KeyFile 可以是任意类型的文件。这样即便别人知道了你的主密钥，没有 KeyFile 也是打不开密码库的，至于想强行破解 AES-256 ，理论上可行，但目前没有可靠低成本的方案，没人愿意在一个普通人身上投入这些资源。

###### 版本选择

KeePass 有两个互不兼容的版本，v1和v2，对应的客户端也不一样，这点要注意一下。w酱选择的是 v2 ，因为 v2 的插件似乎更多，新鲜的功能也应该先于 v1 出现。

###### 导入支持

KeePass 另一个比较人性化的地方在于支持各种密码库格式的倒入，LastPass 和 1Password 当然也不例外。

![](https://40.media.tumblr.com/1b8fd2faca21810179933ae31b1a9074/tumblr_niqunrNeD71tqgztwo1_500.png)

此外，KeePass 还有各种第三方的客户端可供使用， 比如 KeepassX 什么的，但是个人不推荐，因为虽然在 Linux/OSX 平台下得借助 Mono 才能跑起来，而且界面丑的无法直视，但终究那些功能摆在那里。

借一张官方的截图，KeePass 最基本的那些操作我就不多叙述，全局调出的快捷键默认是 ctrl+alt+k ~~Linux用户请自行绑定快捷键~~ ，密码库的操作如果用过 LastPass 的话几分钟就能摸清操作，而且官方也有中文翻译的。 ~~Linux用户要设置里换下字体才能用，否则一堆框框~~

![](http://keepass.info/screenshots/keepass_2x/main_big.png)

#### 未完待续

讲到这里其实有两个关键问题没有解决，**全平台同步**和**浏览器支持**，有关这两个问题我会放到[下一篇](http://tnt.wicast.tk/2015/01/26/keepass-sync-and-browser-support/)再细说，这回只是给各位安利一下 KeePass。
